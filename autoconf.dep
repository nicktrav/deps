autoconf_linux = dep(
  name = 'autoconf-linux',
  met = [
    shell('which autoconf'),
  ],
  meet = [
    shell('apt-get install -y autoconf'),
  ]
)

autoconf_macos = dep(
  name = 'autoconf-macos',
  met = [
    shell('which autoconf'),
  ],
  meet = [
    shell('brew install autoconf'),
  ]
)

def _autoconf():
  if os() == "linux":
    return autoconf_linux
  elif os() == "darwin":
    return autoconf_macos

autoconf = dep(
  name = 'autoconf',
  requires = [
    _autoconf()
  ]
)
